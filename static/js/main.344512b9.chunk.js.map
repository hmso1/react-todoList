{"version":3,"sources":["components/TodoInput/TodoInput.js","contexts/FilterContext/FilterContext.js","contexts/TodoContext/TodoContext.js","hooks/useButton/useButton.js","components/TodoFilter/TodoFilter.js","components/TodoItem/TodoItem.js","components/TodoList/TodoList.js","hooks/useClickPreventionOnDoubleClick/useClickPreventionOnDoubleClick.js","hooks/useTodos/useTodos.js","hooks/useInput/useInput.js","components/App/App.js","hooks/useFilter/useFilter.js","index.js"],"names":["TodoInputContainner","styled","div","TodoInputText","input","props","theme","color","grey","TodoInput","memo","value","inputChange","handleAddTodo","isEnterPressed","console","log","type","onChange","onBlur","onKeyDown","FilterContext","createContext","TodoContext","FilterButton","button","hover","backgroundColor","filterButton","content","isActived","cb","style","onClick","FilterContainer","TodoLeft","span","FilterButtonContainer","TodoFilter","useContext","handleDeleteAllCompletedTodo","todos","handleChangeFilter","filter","incomplete","useMemo","todo","isDone","length","AllButton","ActiveButton","CompleteButton","ClearButton","useButton","ItemContainer","li","CancelButton","white","red","ContentWrapper","ItemCheckbox","yellow","black","ItemContent","label","TodoEditInput","deepRed","TodoItem","handleClick","handleDoubleClick","handleDeleteTodo","handleEditTodo","restoreEdit","isEnterPressedForEdit","click","id","doubleClick","e","deleteClick","onInputChange","onBlut","isEdit","onDoubleClick","checked","htmlFor","TodoContainer","TodoUl","ul","TodoList","generateItem","map","useClickPreventionOnDoubleClick","api","pendingPromises","useRef","appendPendingPromises","promise","current","removePendingPromise","p","clearPendingPromises","cancel","useCancellablePromises","n","waitForClick","isCanceled","Promise","resolve","reject","then","error","cancelablePromise","setTimeout","catch","errorInfo","useTodos","useState","setValue","handleInputChange","target","useInput","todosJson","window","localStorage","getItem","JSON","parse","setTodos","useEffect","setItem","stringify","document","querySelector","focus","useCallback","key","todoContext","todoContextObj","Container","Header","h1","orange","lightYellow","App","filterContextObj","setFilter","filterContent","useFilter","Provider","ReactDOM","render","getElementById"],"mappings":"qOAGMA,EAAsBC,IAAOC,IAAV,mFAMnBC,EAAgBF,IAAOG,MAAV,6MAMR,SAACC,GAAD,OAAWA,EAAMC,MAAMC,MAAMC,QAyBzBC,EAlBGC,gBAChB,YAA4D,IAAzDC,EAAwD,EAAxDA,MAAOC,EAAiD,EAAjDA,YAAaC,EAAoC,EAApCA,cAAeC,EAAqB,EAArBA,eAGpC,OAFAC,QAAQC,IAAI,qBAGV,cAAChB,EAAD,UACE,cAACG,EAAD,CACEc,KAAK,OACLN,MAAOA,EACPO,SAAUN,EACVO,OAAQN,EACRO,UAAWN,SChCRO,EAAgBC,0BCAhBC,EAAcD,0BCIrBE,EAAevB,IAAOwB,OAAV,2SAoBZC,EAAQ,CACZC,gBAAiB,UACjBpB,MAAO,QAGHqB,EAAe,SAACC,EAASC,EAAWC,GAExC,OADAhB,QAAQC,IAAIa,GACL,WAEL,OACE,cAACL,EAAD,CAAcQ,MAAOF,EAAYJ,EAAQ,GAAIO,QAFrB,kBAAMF,EAAGF,IAEjC,SACGA,MChCT,I,gBAAMK,EAAkBjC,IAAOC,IAAV,2KAUfiC,EAAWlC,IAAOmC,KAAV,+CAIRC,EAAwBpC,IAAOC,IAAV,6IAQdoC,EAAa5B,gBAAK,WAC7BK,QAAQC,IAAI,qBACZ,MDca,WACb,MAAgDuB,qBAAWhB,GAAnDiB,EAAR,EAAQA,6BAA8BC,EAAtC,EAAsCA,MACtC,EAAuCF,qBAAWlB,GAA1CqB,EAAR,EAAQA,mBAAoBC,EAA5B,EAA4BA,OAuB5B,MAAO,CACLC,WAvBiBC,mBAAQ,WAEzB,OADA9B,QAAQC,IAAI,0BACLyB,EAAME,QAAO,SAACG,GAAD,OAAWA,EAAKC,UAAQC,SAC3C,CAACP,IAqBFQ,UAnBgBJ,mBAChB,kBAAMjB,EAAa,MAAkB,QAAXe,EAAkBD,KAC5C,CAACC,EAAQD,IAkBTQ,aAhBmBL,mBACnB,kBAAMjB,EAAa,SAAqB,WAAXe,EAAqBD,KAClD,CAACC,EAAQD,IAeTS,eAbqBN,mBACrB,kBAAMjB,EAAa,WAAuB,aAAXe,EAAuBD,KACtD,CAACC,EAAQD,IAYTU,YAVkBP,mBAClB,kBAAMjB,EAAa,eAAe,EAAOY,KACzC,CAACA,KCnCDa,GADMT,EAAR,EAAQA,WAAYK,EAApB,EAAoBA,UAAWC,EAA/B,EAA+BA,aAAcC,EAA7C,EAA6CA,eAAgBC,EAA7D,EAA6DA,YAG7D,OACE,eAAClB,EAAD,WACE,eAACC,EAAD,WAAWS,EAAX,iBACA,eAACP,EAAD,WACE,cAACY,EAAD,IACA,cAACC,EAAD,IACA,cAACC,EAAD,OAEF,cAACC,EAAD,UCnCAE,EAAgBrD,IAAOsD,GAAV,uLAMU,SAAClD,GAAD,OAAWA,EAAMC,MAAMC,MAAMC,QAGpDgD,EAAevD,IAAOwB,OAAV,8KAEI,SAACpB,GAAD,OAAWA,EAAMC,MAAMC,MAAMkD,SAMtC,SAACpD,GAAD,OAAWA,EAAMC,MAAMC,MAAMmD,OAIpCC,EAAiB1D,IAAOC,IAAV,0FAMd0D,EAAe3D,IAAOG,MAAV,kxBAOI,SAACC,GAAD,OAAWA,EAAMC,MAAMC,MAAMC,QAe/B,SAACH,GAAD,OAAWA,EAAMC,MAAMC,MAAMsD,UAOpC,SAACxD,GAAD,OAAWA,EAAMC,MAAMC,MAAMuD,SACxB,SAACzD,GAAD,OAAWA,EAAMC,MAAMC,MAAMC,QAUzCuD,EAAc9D,IAAO+D,MAAV,6gBASJ,SAAC3D,GAAD,OAAWA,EAAMC,MAAMC,MAAMC,QAIb,SAACH,GAAD,OAAWA,EAAMC,MAAMC,MAAMsD,UASpDI,EAAgBhE,IAAOG,MAAV,+OAGG,SAACC,GAAD,OAAWA,EAAMC,MAAMC,MAAM2D,WAK9B,SAAC7D,GAAD,OAAWA,EAAMC,MAAMC,MAAM2D,WA8EnCC,EAvEEzD,gBAAK,YAAe,IAAZoC,EAAW,EAAXA,KACvB/B,QAAQC,IAAI,mBACZD,QAAQC,IAAI8B,GACZ,MAOIP,qBAAWhB,GANb6C,EADF,EACEA,YACAC,EAFF,EAEEA,kBACAC,EAHF,EAGEA,iBACAC,EAJF,EAIEA,eACAC,EALF,EAKEA,YACAC,EANF,EAMEA,sBAGIC,EAAQ7B,mBACZ,kBAAM,WACJuB,EAAYtB,EAAK6B,OAEnB,CAACP,EAAatB,EAAK6B,KAGfC,EAAc/B,mBAClB,kBAAM,SAACgC,GAAD,OAAOR,EAAkBvB,EAAK6B,GAAIE,MACxC,CAACR,EAAmBvB,EAAK6B,KAErBG,EAAcjC,mBAClB,kBAAM,kBAAMyB,EAAiBxB,EAAK6B,OAClC,CAACL,EAAkBxB,EAAK6B,KAGpBI,EAAgBlC,mBACpB,kBAAM,SAACgC,GAAD,OAAON,EAAezB,EAAK6B,GAAIE,MACrC,CAACN,EAAgBzB,EAAK6B,KAGlBK,EAASnC,mBACb,kBAAM,kBAAM2B,EAAY1B,EAAK6B,OAC7B,CAACH,EAAa1B,EAAK6B,KAGfvD,EAAYyB,mBAChB,kBAAM,SAACgC,GAAD,OAAOJ,EAAsBI,EAAG/B,EAAK6B,OAC3C,CAACF,EAAuB3B,EAAK6B,KAG/B,OAAQ7B,EAAKmC,OAgBX,cAAC3B,EAAD,UACE,cAACW,EAAD,CACEtD,MAAOmC,EAAKjB,QACZX,SAAU,SAAC2D,GAAD,OAAOE,EAAcF,IAC/B1D,OAAQ6D,EACR5D,UAAWA,EACXuD,GAAG,eArBP,eAACrB,EAAD,WACE,eAACK,EAAD,CAAgBuB,cAAe,SAACL,GAAD,OAAOD,EAAYC,IAAlD,UACE,cAACjB,EAAD,CACE3C,KAAK,WACL0D,GAAI7B,EAAK6B,GACTzD,SAAUwD,EACVS,QAASrC,EAAKC,SAEhB,cAACgB,EAAD,CAAaqB,QAAStC,EAAK6B,GAAI,eAAc7B,EAAKjB,QAAlD,SACGiB,EAAKjB,aAGV,cAAC2B,EAAD,CAAcvB,QAAS6C,EAAvB,qBC7JAO,EAAgBpF,IAAOC,IAAV,gHAGG,SAACG,GAAD,OAAWA,EAAMC,MAAMC,MAAMkD,SAI7C6B,EAASrF,IAAOsF,GAAV,qEAwBGC,EAnBE9E,gBAAK,WACpBK,QAAQC,IAAI,mBACZ,IAAQyB,EAAUF,qBAAWhB,GAArBkB,MACAE,EAAWJ,qBAAWlB,GAAtBsB,OAEF8C,EAAehD,EAClBE,QAAO,SAACG,GACP,MAAe,WAAXH,GAA6BG,EAAKC,OACvB,aAAXJ,GAA8BG,EAAKC,UAGxC2C,KAAI,SAAC5C,GAAD,OAAU,cAAC,EAAD,CAAUA,KAAMA,GAAWA,EAAK6B,OACjD,OACE,eAACU,EAAD,WACE,cAACC,EAAD,UAASG,IACT,cAACnD,EAAD,U,qBChCN,I,IAoCe,SAASqD,EACtB1D,EACAiD,GAEA,IAAMU,EAtBuB,WAC7B,IAAMC,EAAkBC,iBAAO,IAc/B,MALY,CACVC,sBAR4B,SAACC,GAAD,OAC3BH,EAAgBI,QAAhB,sBAA8BJ,EAAgBI,SAA9C,CAAuDD,KAQxDE,qBAP2B,SAACF,GAAD,OAC3BH,EAAgBI,QAAQtD,QAAO,SAACwD,GAAD,OAAOA,IAAMH,MAO5CI,qBAN2B,kBAC3BP,EAAgBI,QAAQP,KAAI,SAACS,GAAD,OAAOA,EAAEE,cAc3BC,GA+BZ,MAAO,CA7BazD,mBAClB,kBAAM,SAAC8B,GACLiB,EAAIQ,uBACJ,IA7BSG,EA6BHC,EA7Cc,SAACR,GACzB,IAAIS,GAAa,EASjB,MAAO,CACLT,QARqB,IAAIU,SAAQ,SAACC,EAASC,GAC3CZ,EAAQa,MACN,SAAClG,GAAD,OAAY8F,EAAaG,EAAO,CAAEH,aAAY9F,UAAWgG,EAAQhG,MACjE,SAACmG,GAAD,OAAWF,EAAOH,EAAYK,SAMhCT,OAAQ,kBAAOI,GAAa,IAiCLM,EA7BZR,EA6BoC,IA7B9B,IAAIG,SAAQ,SAACC,GAAD,OAAaK,WAAWL,EAASJ,QAgC5D,OAFAX,EAAIG,sBAAsBS,GAEnBA,EAAaR,QACjBa,MAAK,WACJjB,EAAIM,qBAAqBM,GACzBvE,EAAQ0C,MAETsC,OAAM,SAACC,GAEN,GADAtB,EAAIM,qBAAqBM,IACpBU,EAAUT,WACb,MAAMS,EAAUJ,YAIxB,CAAC7E,EAAS2D,IAGc/C,mBACxB,kBAAM,SAAC8B,EAAIE,GACTe,EAAIQ,uBACJlB,EAAcP,EAAIE,MAEpB,CAACe,EAAKV,KClEK,SAASiC,IACtB,MCHa,WAA+B,IAAb/G,EAAY,uDAAJ,GACvC,EAA0BgH,mBAAShH,GAAnC,mBAAOO,EAAP,KAAc0G,EAAd,KACMC,EAAoBzE,mBACxB,kBAAM,SAACgC,GACL9D,QAAQC,IAAI6D,EAAE0C,OAAO5G,OACrB0G,EAASxC,EAAE0C,OAAO5G,UAEpB,IAGF,MAAO,CAAEA,QAAO0G,WAAUC,qBDPqBE,GAAvC7G,EAAR,EAAQA,MAAO0G,EAAf,EAAeA,SAAUC,EAAzB,EAAyBA,kBAEnB3C,EAAKmB,iBAAO,GAClB,EAA0BsB,oBAAS,WACjC,IAAMK,EAAYC,OAAOC,aAAaC,QAAQ,SAE9C,IAAKH,IAAcI,KAAKC,MAAML,GAAWzE,OACvC,MAAO,GAET,IAAMP,EAAQoF,KAAKC,MAAML,GAEzB,OADA9C,EAAGsB,QAAUxD,EAAM,GAAGkC,GAAK,EACpBlC,KART,mBAAOA,EAAP,KAAcsF,EAAd,KAWAC,qBAAU,WACRN,OAAOC,aAAaM,QAAQ,QAASJ,KAAKK,UAAUzF,IAChD0F,SAASC,cAAc,cACzBD,SAASC,cAAc,aAAaC,UAErC,CAAC5F,IAEJ,IAAM5B,EAAgByH,uBAAY,WAClB,KAAV3H,IAGJoH,EAAS,CACP,CACEpD,GAAIA,EAAGsB,QACPpE,QAASlB,EACToC,QAAQ,EACRkC,QAAQ,IALJ,mBAOHxC,KAEL4E,EAAS,IACT1C,EAAGsB,aACF,CAACtF,EAAO0G,EAAU5E,EAAOkC,IAgC5B,EAAyCgB,EA9BzB9C,mBACd,kBAAM,SAAC8B,GACLoD,EACEtF,EAAMiD,KAAI,SAAC5C,GACT,OAAIA,EAAK6B,KAAOA,EAAW7B,EACpB,2BACFA,GADL,IAEEC,QAASD,EAAKC,gBAKtB,CAACN,IAGmBI,mBACpB,kBAAM,SAAC8B,EAAIE,GACTkD,EACEtF,EAAMiD,KAAI,SAAC5C,GACT,OAAIA,EAAK6B,KAAOA,EAAW7B,EACpB,2BACFA,GADL,IAEEmC,QAASnC,EAAKmC,gBAKtB,CAACxC,EAAOsF,KAGV,mBAAO3D,EAAP,KAAoBC,EAApB,KAKMC,EAAmBzB,mBACvB,kBAAM,SAAC8B,GACLoD,EAAStF,EAAME,QAAO,SAACG,GAAD,OAAUA,EAAK6B,KAAOA,SAE9C,CAAClC,IAGGD,EAA+BK,mBACnC,kBAAM,WACJkF,EAAStF,EAAME,QAAO,SAACG,GAAD,OAAWA,EAAKC,cAExC,CAACN,IAGG3B,EAAiBwH,uBACrB,SAACzD,GACe,UAAVA,EAAE0D,KACJ1H,MAGJ,CAACA,IAGG0D,EAAiB1B,mBACrB,kBAAM,SAAC8B,EAAIE,GACTkD,EACEtF,EAAMiD,KAAI,SAAC5C,GACT,OAAIA,EAAK6B,KAAOA,EAAW7B,EACpB,2BACFA,GADL,IAEEjB,QAASgD,EAAE0C,OAAO5G,eAK1B,CAAC8B,EAAOsF,IAGJvD,EAAc3B,mBAClB,kBAAM,SAAC8B,GACLoD,EACEtF,EAAMiD,KAAI,SAAC5C,GACT,OAAIA,EAAK6B,KAAOA,EAAW7B,EACpB,2BACFA,GADL,IAEEmC,QAAQ,WAKhB,CAACxC,EAAOsF,IAGJtD,EAAwB5B,mBAC5B,kBAAM,SAACgC,EAAGF,GACM,UAAVE,EAAE0D,KACJ/D,EAAYG,MAGhB,CAACH,IAGGgE,EAAc3F,mBAClB,iBAAO,CACLuB,cACAC,oBACAC,mBACA7B,MAAOA,EACPsF,WACAvF,+BACA+B,iBACAC,cACAC,2BAEF,CACEL,EACAC,EACAC,EACA7B,EACAsF,EACAvF,EACA+B,EACAC,EACAC,IAIJ,MAAO,CACL9D,QACA2G,oBACAzG,gBACA4H,eAAgBD,EAChB/F,MAAOA,EACP3B,kBElKJ,IAAM4H,EAAYzI,IAAOC,IAAV,oEAKTyI,EAAS1I,IAAO2I,GAAV,8NAGD,SAACvI,GAAD,OAAWA,EAAMC,MAAMC,MAAMsI,UAEX,SAACxI,GAAD,OAAWA,EAAMC,MAAMC,MAAMsD,UACxC,SAACxD,GAAD,OAAWA,EAAMC,MAAMC,MAAMuI,eAsChCC,OAhCf,WACEhI,QAAQC,IAAI,cACZ,MAOImG,IANFxG,EADF,EACEA,MACA2G,EAFF,EAEEA,kBACAzG,EAHF,EAGEA,cACA4H,EAJF,EAIEA,eACA3H,EALF,EAKEA,eACA2B,EANF,EAMEA,MAGMuG,ECpCK,WACb,MAA4B5B,mBAAS,OAArC,mBAAOzE,EAAP,KAAesG,EAAf,KACMvG,EAAqBG,mBACzB,kBAAM,SAACqG,GACLD,EAAUC,MAEZ,IAUF,MAAO,CAAEF,iBARgBnG,mBACvB,iBAAO,CACLF,OAAQA,EACRD,wBAEF,CAACC,EAAQD,KDuBkByG,GAArBH,iBAER,OACE,eAACN,EAAD,WACE,cAACC,EAAD,yBACA,cAAC,EAAD,CACEhI,MAAOA,EACPC,YAAa0G,EACbzG,cAAeA,EACfC,eAAgBA,IAGlB,cAACS,EAAY6H,SAAb,CAAsBzI,MAAO8H,EAA7B,SACE,cAACpH,EAAc+H,SAAf,CAAwBzI,MAAOqI,EAA/B,SACoB,IAAjBvG,EAAMO,QAAgB,cAAC,EAAD,YEhCjCqG,IAASC,OACP,cAAC,IAAD,CAAehJ,MAdH,CACZC,MAAO,CACLsI,OAAQ,UACRrI,KAAM,UACNiD,MAAO,OACPC,IAAK,UACLQ,QAAS,YACTL,OAAQ,UACRiF,YAAa,UACbhF,MAAO,SAKT,SACE,cAAC,GAAD,MAEFqE,SAASoB,eAAe,W","file":"static/js/main.344512b9.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\nimport { memo } from \"react\";\r\n\r\nconst TodoInputContainner = styled.div`\r\n  margin: 0 auto;\r\n  width: 80%;\r\n  max-width: 760px;\r\n`;\r\n\r\nconst TodoInputText = styled.input`\r\n  width: 100%;\r\n  height: 50px;\r\n  box-sizing: border-box;\r\n  border: none;\r\n  font-size: 1.5em;\r\n  color: ${(props) => props.theme.color.grey};\r\n  border-radius: 0.2rem;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst TodoInput = memo(\r\n  ({ value, inputChange, handleAddTodo, isEnterPressed }) => {\r\n    console.log(\"render todo input\");\r\n\r\n    return (\r\n      <TodoInputContainner>\r\n        <TodoInputText\r\n          type=\"text\"\r\n          value={value}\r\n          onChange={inputChange}\r\n          onBlur={handleAddTodo}\r\n          onKeyDown={isEnterPressed}\r\n        ></TodoInputText>\r\n      </TodoInputContainner>\r\n    );\r\n  }\r\n);\r\n\r\nexport default TodoInput;\r\n","import { createContext } from \"react\";\r\nexport const FilterContext = createContext();\r\n","import { createContext } from \"react\";\r\nexport const TodoContext = createContext();\r\n","import { useMemo, useContext } from \"react\";\r\nimport { FilterContext } from \"../../contexts/FilterContext\";\r\nimport { TodoContext } from \"../../contexts/TodoContext\";\r\nimport styled from \"styled-components\";\r\n\r\nconst FilterButton = styled.button`\r\n  background-color: white;\r\n  padding: 5px 10px;\r\n  transition: 0.3s all;\r\n  cursor: pointer;\r\n  border-radius: 0.2rem;\r\n  border: 1px solid #979895;\r\n\r\n\r\n  & + & {\r\n    margin-left: 10px;\r\n  }\r\n  &:hover {\r\n    background-color: #979895;\r\n    color: #fff;\r\n  }\r\n\r\n  @ \r\n`;\r\n\r\nconst hover = {\r\n  backgroundColor: \"#979895\",\r\n  color: \"#fff\",\r\n};\r\n\r\nconst filterButton = (content, isActived, cb) => {\r\n  console.log(content);\r\n  return function () {\r\n    const filterButtonClick = () => cb(content);\r\n    return (\r\n      <FilterButton style={isActived ? hover : {}} onClick={filterButtonClick}>\r\n        {content}\r\n      </FilterButton>\r\n    );\r\n  };\r\n};\r\n\r\nexport default function useButton() {\r\n  const { handleDeleteAllCompletedTodo, todos } = useContext(TodoContext);\r\n  const { handleChangeFilter, filter } = useContext(FilterContext);\r\n  const incomplete = useMemo(() => {\r\n    console.log(\"render incomplete item\");\r\n    return todos.filter((todo) => !todo.isDone).length;\r\n  }, [todos]);\r\n\r\n  const AllButton = useMemo(\r\n    () => filterButton(\"All\", filter === \"All\", handleChangeFilter),\r\n    [filter, handleChangeFilter]\r\n  );\r\n  const ActiveButton = useMemo(\r\n    () => filterButton(\"Active\", filter === \"Active\", handleChangeFilter),\r\n    [filter, handleChangeFilter]\r\n  );\r\n  const CompleteButton = useMemo(\r\n    () => filterButton(\"Complete\", filter === \"Complete\", handleChangeFilter),\r\n    [filter, handleChangeFilter]\r\n  );\r\n  const ClearButton = useMemo(\r\n    () => filterButton(\"ClearButton\", false, handleDeleteAllCompletedTodo),\r\n    [handleDeleteAllCompletedTodo]\r\n  );\r\n\r\n  return {\r\n    incomplete: incomplete,\r\n    AllButton,\r\n    ActiveButton,\r\n    CompleteButton,\r\n    ClearButton,\r\n  };\r\n}\r\n","import styled from \"styled-components\";\r\nimport useButton from \"../../hooks/useButton\";\r\nimport { memo } from \"react\";\r\n\r\nconst FilterContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px 15px;\r\n\r\n  @media (max-width: 574px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst TodoLeft = styled.span`\r\n  margin: auto 0;\r\n`;\r\n\r\nconst FilterButtonContainer = styled.div`\r\n  @media (max-width: 574px) {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin: 8px 0;\r\n  }\r\n`;\r\n\r\nexport const TodoFilter = memo(() => {\r\n  console.log(\"render TodoFilter\");\r\n  const { incomplete, AllButton, ActiveButton, CompleteButton, ClearButton } =\r\n    useButton();\r\n\r\n  return (\r\n    <FilterContainer>\r\n      <TodoLeft>{incomplete} items left</TodoLeft>\r\n      <FilterButtonContainer>\r\n        <AllButton />\r\n        <ActiveButton />\r\n        <CompleteButton />\r\n      </FilterButtonContainer>\r\n      <ClearButton />\r\n    </FilterContainer>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\nimport { useContext, memo, useMemo } from \"react\";\r\nimport { TodoContext } from \"../../contexts/TodoContext\";\r\n\r\nconst ItemContainer = styled.li`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  box-sizing: border-box;\r\n  padding: 15px 20px;\r\n  margin: auto 0;\r\n  border-bottom: 1px solid ${(props) => props.theme.color.grey};\r\n`;\r\n\r\nconst CancelButton = styled.button`\r\n  font-size: 20px;\r\n  background-color: ${(props) => props.theme.color.white};\r\n  border: none;\r\n  font-weight: 900;\r\n  transition: 0.3s all;\r\n\r\n  &:hover {\r\n    color: ${(props) => props.theme.color.red};\r\n  }\r\n`;\r\n\r\nconst ContentWrapper = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  width: 100%;\r\n`;\r\n\r\nconst ItemCheckbox = styled.input`\r\n  width: 1.5em;\r\n  height: 1.5em;\r\n  flex-shrink: 0;\r\n  margin-right: 15px;\r\n  vertical-align: bottom;\r\n  position: relative;\r\n  border: 1px solid ${(props) => props.theme.color.grey};\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  cursor: pointer;\r\n  transition: background 175ms cubic-bezier(0.1, 0.1, 0.25, 1);\r\n\r\n  &::before {\r\n    position: absolute;\r\n    content: \"\";\r\n    display: block;\r\n    top: 1px;\r\n    left: 7px;\r\n    width: 5px;\r\n    height: 14px;\r\n    border-style: solid;\r\n    border-color: ${(props) => props.theme.color.yellow};\r\n    border-width: 0 4px 4px 0;\r\n    transform: rotate(45deg);\r\n    opacity: 0;\r\n  }\r\n\r\n  &:checked {\r\n    color: ${(props) => props.theme.color.black};\r\n    background: ${(props) => props.theme.color.grey};\r\n    &::before {\r\n      opacity: 1;\r\n    }\r\n    ~ label::before {\r\n      clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);\r\n    }\r\n  }\r\n`;\r\n\r\nconst ItemContent = styled.label`\r\n  position: relative;\r\n  cursor: pointer;\r\n  font-size: 1.3em;\r\n  font-weight: 400;\r\n  word-break: break-all;\r\n  &::before {\r\n    position: absolute;\r\n    content: attr(data-content);\r\n    color: ${(props) => props.theme.color.grey};\r\n    clip-path: polygon(0 0, 0 0, 0% 100%, 0 100%);\r\n    text-decoration: line-through;\r\n    text-decoration-thickness: 3px;\r\n    text-decoration-color: ${(props) => props.theme.color.yellow};\r\n    transition: clip-path 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94);\r\n  }\r\n\r\n  @media (min-width: 768px) {\r\n    font-size: 1.5em;\r\n  }\r\n`;\r\n\r\nconst TodoEditInput = styled.input`\r\n  font-size: 1.3em;\r\n  width: 80%;\r\n  border: 4px solid ${(props) => props.theme.color.deepRed};\r\n  border-radius: 5px;\r\n  margin-left: 35px;\r\n\r\n  &:focus {\r\n    outline-color: ${(props) => props.theme.color.deepRed};\r\n  }\r\n  @media (min-width: 768px) {\r\n    font-size: 1.5em;\r\n  }\r\n`;\r\n\r\nconst TodoItem = memo(({ todo }) => {\r\n  console.log(\"render TodoItem\");\r\n  console.log(todo);\r\n  const {\r\n    handleClick,\r\n    handleDoubleClick,\r\n    handleDeleteTodo,\r\n    handleEditTodo,\r\n    restoreEdit,\r\n    isEnterPressedForEdit,\r\n  } = useContext(TodoContext);\r\n\r\n  const click = useMemo(\r\n    () => () => {\r\n      handleClick(todo.id);\r\n    },\r\n    [handleClick, todo.id]\r\n  );\r\n\r\n  const doubleClick = useMemo(\r\n    () => (e) => handleDoubleClick(todo.id, e),\r\n    [handleDoubleClick, todo.id]\r\n  );\r\n  const deleteClick = useMemo(\r\n    () => () => handleDeleteTodo(todo.id),\r\n    [handleDeleteTodo, todo.id]\r\n  );\r\n\r\n  const onInputChange = useMemo(\r\n    () => (e) => handleEditTodo(todo.id, e),\r\n    [handleEditTodo, todo.id]\r\n  );\r\n\r\n  const onBlut = useMemo(\r\n    () => () => restoreEdit(todo.id),\r\n    [restoreEdit, todo.id]\r\n  );\r\n\r\n  const onKeyDown = useMemo(\r\n    () => (e) => isEnterPressedForEdit(e, todo.id),\r\n    [isEnterPressedForEdit, todo.id]\r\n  );\r\n\r\n  return !todo.isEdit ? (\r\n    <ItemContainer>\r\n      <ContentWrapper onDoubleClick={(e) => doubleClick(e)}>\r\n        <ItemCheckbox\r\n          type=\"checkbox\"\r\n          id={todo.id}\r\n          onChange={click}\r\n          checked={todo.isDone}\r\n        />\r\n        <ItemContent htmlFor={todo.id} data-content={todo.content}>\r\n          {todo.content}\r\n        </ItemContent>\r\n      </ContentWrapper>\r\n      <CancelButton onClick={deleteClick}>X</CancelButton>\r\n    </ItemContainer>\r\n  ) : (\r\n    <ItemContainer>\r\n      <TodoEditInput\r\n        value={todo.content}\r\n        onChange={(e) => onInputChange(e)}\r\n        onBlur={onBlut}\r\n        onKeyDown={onKeyDown}\r\n        id=\"editting\"\r\n      />\r\n    </ItemContainer>\r\n  );\r\n});\r\n\r\nexport default TodoItem;\r\n","import styled from \"styled-components\";\r\nimport { TodoFilter } from \"../TodoFilter\";\r\nimport TodoItem from \"../TodoItem\";\r\nimport { useContext, memo } from \"react\";\r\nimport { TodoContext } from \"../../contexts/TodoContext\";\r\nimport { FilterContext } from \"../../contexts/FilterContext\";\r\n\r\nconst TodoContainer = styled.div`\r\n  width: 80%;\r\n  max-width: 760px;\r\n  background-color: ${(props) => props.theme.color.white};\r\n  margin: 30px auto;\r\n`;\r\n\r\nconst TodoUl = styled.ul`\r\n  padding: 0;\r\n  list-style-type: none;\r\n`;\r\n\r\nconst TodoList = memo(() => {\r\n  console.log(\"render TodoList\");\r\n  const { todos } = useContext(TodoContext);\r\n  const { filter } = useContext(FilterContext);\r\n\r\n  const generateItem = todos\r\n    .filter((todo) => {\r\n      if (filter === \"Active\") return !todo.isDone;\r\n      if (filter === \"Complete\") return todo.isDone;\r\n      return true;\r\n    })\r\n    .map((todo) => <TodoItem todo={todo} key={todo.id} />);\r\n  return (\r\n    <TodoContainer>\r\n      <TodoUl>{generateItem}</TodoUl>\r\n      <TodoFilter />\r\n    </TodoContainer>\r\n  );\r\n});\r\nexport default TodoList;\r\n","import { useRef, useMemo } from \"react\";\r\n\r\nconst cancelablePromise = (promise) => {\r\n  let isCanceled = false;\r\n\r\n  const wrappedPromise = new Promise((resolve, reject) => {\r\n    promise.then(\r\n      (value) => (isCanceled ? reject({ isCanceled, value }) : resolve(value)),\r\n      (error) => reject(isCanceled, error)\r\n    );\r\n  });\r\n\r\n  return {\r\n    promise: wrappedPromise,\r\n    cancel: () => (isCanceled = true),\r\n  };\r\n};\r\n\r\nconst delay = (n) => new Promise((resolve) => setTimeout(resolve, n));\r\n\r\nconst useCancellablePromises = () => {\r\n  const pendingPromises = useRef([]);\r\n\r\n  const appendPendingPromises = (promise) =>\r\n    (pendingPromises.current = [...pendingPromises.current, promise]);\r\n  const removePendingPromise = (promise) =>\r\n    pendingPromises.current.filter((p) => p !== promise);\r\n  const clearPendingPromises = () =>\r\n    pendingPromises.current.map((p) => p.cancel());\r\n\r\n  const api = {\r\n    appendPendingPromises,\r\n    removePendingPromise,\r\n    clearPendingPromises,\r\n  };\r\n  return api;\r\n};\r\n\r\nexport default function useClickPreventionOnDoubleClick(\r\n  onClick,\r\n  onDoubleClick\r\n) {\r\n  const api = useCancellablePromises();\r\n\r\n  const handleClick = useMemo(\r\n    () => (id) => {\r\n      api.clearPendingPromises();\r\n      const waitForClick = cancelablePromise(delay(300));\r\n      api.appendPendingPromises(waitForClick);\r\n\r\n      return waitForClick.promise\r\n        .then(() => {\r\n          api.removePendingPromise(waitForClick);\r\n          onClick(id);\r\n        })\r\n        .catch((errorInfo) => {\r\n          api.removePendingPromise(waitForClick);\r\n          if (!errorInfo.isCanceled) {\r\n            throw errorInfo.error;\r\n          }\r\n        });\r\n    },\r\n    [onClick, api]\r\n  );\r\n\r\n  const handleDoubleClick = useMemo(\r\n    () => (id, e) => {\r\n      api.clearPendingPromises();\r\n      onDoubleClick(id, e);\r\n    },\r\n    [api, onDoubleClick]\r\n  );\r\n\r\n  return [handleClick, handleDoubleClick];\r\n}\r\n","import { useState, useRef, useMemo, useEffect, useCallback } from \"react\";\r\nimport useInput from \"../useInput\";\r\nimport useClickPreventionOnDoubleClick from \"../useClickPreventionOnDoubleClick\";\r\n\r\nexport default function useTodos() {\r\n  const { value, setValue, handleInputChange } = useInput();\r\n\r\n  const id = useRef(1);\r\n  const [todos, setTodos] = useState(() => {\r\n    const todosJson = window.localStorage.getItem(\"todos\");\r\n\r\n    if (!todosJson || !JSON.parse(todosJson).length) {\r\n      return [];\r\n    }\r\n    const todos = JSON.parse(todosJson);\r\n    id.current = todos[0].id + 1;\r\n    return todos;\r\n  });\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"todos\", JSON.stringify(todos));\r\n    if (document.querySelector(\"#editting\")) {\r\n      document.querySelector(\"#editting\").focus();\r\n    }\r\n  }, [todos]);\r\n\r\n  const handleAddTodo = useCallback(() => {\r\n    if (value === \"\") {\r\n      return;\r\n    }\r\n    setTodos([\r\n      {\r\n        id: id.current,\r\n        content: value,\r\n        isDone: false,\r\n        isEdit: false,\r\n      },\r\n      ...todos,\r\n    ]);\r\n    setValue(\"\");\r\n    id.current++;\r\n  }, [value, setValue, todos, id]);\r\n\r\n  const onClick = useMemo(\r\n    () => (id) => {\r\n      setTodos(\r\n        todos.map((todo) => {\r\n          if (todo.id !== id) return todo;\r\n          return {\r\n            ...todo,\r\n            isDone: !todo.isDone,\r\n          };\r\n        })\r\n      );\r\n    },\r\n    [todos]\r\n  );\r\n\r\n  const onDoubleClick = useMemo(\r\n    () => (id, e) => {\r\n      setTodos(\r\n        todos.map((todo) => {\r\n          if (todo.id !== id) return todo;\r\n          return {\r\n            ...todo,\r\n            isEdit: !todo.isEdit,\r\n          };\r\n        })\r\n      );\r\n    },\r\n    [todos, setTodos]\r\n  );\r\n\r\n  const [handleClick, handleDoubleClick] = useClickPreventionOnDoubleClick(\r\n    onClick,\r\n    onDoubleClick\r\n  );\r\n\r\n  const handleDeleteTodo = useMemo(\r\n    () => (id) => {\r\n      setTodos(todos.filter((todo) => todo.id !== id));\r\n    },\r\n    [todos]\r\n  );\r\n\r\n  const handleDeleteAllCompletedTodo = useMemo(\r\n    () => () => {\r\n      setTodos(todos.filter((todo) => !todo.isDone));\r\n    },\r\n    [todos]\r\n  );\r\n\r\n  const isEnterPressed = useCallback(\r\n    (e) => {\r\n      if (e.key === \"Enter\") {\r\n        handleAddTodo();\r\n      }\r\n    },\r\n    [handleAddTodo]\r\n  );\r\n\r\n  const handleEditTodo = useMemo(\r\n    () => (id, e) => {\r\n      setTodos(\r\n        todos.map((todo) => {\r\n          if (todo.id !== id) return todo;\r\n          return {\r\n            ...todo,\r\n            content: e.target.value,\r\n          };\r\n        })\r\n      );\r\n    },\r\n    [todos, setTodos]\r\n  );\r\n\r\n  const restoreEdit = useMemo(\r\n    () => (id) => {\r\n      setTodos(\r\n        todos.map((todo) => {\r\n          if (todo.id !== id) return todo;\r\n          return {\r\n            ...todo,\r\n            isEdit: false,\r\n          };\r\n        })\r\n      );\r\n    },\r\n    [todos, setTodos]\r\n  );\r\n\r\n  const isEnterPressedForEdit = useMemo(\r\n    () => (e, id) => {\r\n      if (e.key === \"Enter\") {\r\n        restoreEdit(id);\r\n      }\r\n    },\r\n    [restoreEdit]\r\n  );\r\n\r\n  const todoContext = useMemo(\r\n    () => ({\r\n      handleClick,\r\n      handleDoubleClick,\r\n      handleDeleteTodo,\r\n      todos: todos,\r\n      setTodos,\r\n      handleDeleteAllCompletedTodo,\r\n      handleEditTodo,\r\n      restoreEdit,\r\n      isEnterPressedForEdit,\r\n    }),\r\n    [\r\n      handleClick,\r\n      handleDoubleClick,\r\n      handleDeleteTodo,\r\n      todos,\r\n      setTodos,\r\n      handleDeleteAllCompletedTodo,\r\n      handleEditTodo,\r\n      restoreEdit,\r\n      isEnterPressedForEdit,\r\n    ]\r\n  );\r\n\r\n  return {\r\n    value,\r\n    handleInputChange,\r\n    handleAddTodo,\r\n    todoContextObj: todoContext,\r\n    todos: todos,\r\n    isEnterPressed,\r\n  };\r\n}\r\n","import { useState, useMemo } from \"react\";\r\n\r\nexport default function useInput(input = \"\") {\r\n  const [value, setValue] = useState(input);\r\n  const handleInputChange = useMemo(\r\n    () => (e) => {\r\n      console.log(e.target.value);\r\n      setValue(e.target.value);\r\n    },\r\n    []\r\n  );\r\n\r\n  return { value, setValue, handleInputChange };\r\n}\r\n","import \"./App.css\";\r\nimport styled from \"styled-components\";\r\nimport TodoInput from \"../TodoInput\";\r\nimport TodoList from \"../TodoList\";\r\nimport useTodos from \"../../hooks/useTodos\";\r\nimport useFilter from \"../../hooks/useFilter/useFilter\";\r\nimport { FilterContext } from \"../../contexts/FilterContext\";\r\nimport { TodoContext } from \"../../contexts/TodoContext\";\r\n\r\nconst Container = styled.div`\r\n  margin-top: 80px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst Header = styled.h1`\r\n  font-size: 3.5em;\r\n  font-weight: 900;\r\n  color: ${(props) => props.theme.color.orange};\r\n  text-align: center;\r\n  text-shadow: 2px 2px 1px ${(props) => props.theme.color.yellow},\r\n    4px 4px 1px ${(props) => props.theme.color.lightYellow};\r\n\r\n  @media (min-width: 768px) {\r\n    font-size: 5em;\r\n  }\r\n`;\r\nfunction App() {\r\n  console.log(\"App render\");\r\n  const {\r\n    value,\r\n    handleInputChange,\r\n    handleAddTodo,\r\n    todoContextObj,\r\n    isEnterPressed,\r\n    todos,\r\n  } = useTodos();\r\n\r\n  const { filterContextObj } = useFilter();\r\n\r\n  return (\r\n    <Container>\r\n      <Header>TO-DO LIST</Header>\r\n      <TodoInput\r\n        value={value}\r\n        inputChange={handleInputChange}\r\n        handleAddTodo={handleAddTodo}\r\n        isEnterPressed={isEnterPressed}\r\n      />\r\n\r\n      <TodoContext.Provider value={todoContextObj}>\r\n        <FilterContext.Provider value={filterContextObj}>\r\n          {todos.length !== 0 && <TodoList />}\r\n        </FilterContext.Provider>\r\n      </TodoContext.Provider>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { useState, useMemo } from \"react\";\r\nexport default function useFilter() {\r\n  const [filter, setFilter] = useState(\"All\");\r\n  const handleChangeFilter = useMemo(\r\n    () => (filterContent) => {\r\n      setFilter(filterContent);\r\n    },\r\n    []\r\n  );\r\n  const filterContextObj = useMemo(\r\n    () => ({\r\n      filter: filter,\r\n      handleChangeFilter,\r\n    }),\r\n    [filter, handleChangeFilter]\r\n  );\r\n\r\n  return { filterContextObj: filterContextObj };\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./normalize.css\";\r\nimport App from \"./components/App\";\r\nimport { ThemeProvider } from \"styled-components\";\r\n\r\nconst theme = {\r\n  color: {\r\n    orange: \"#d07609\",\r\n    grey: \"#979895\",\r\n    white: \"#fff\",\r\n    red: \"#ab0303\",\r\n    deepRed: \"#ab030378\",\r\n    yellow: \"#f1a704\",\r\n    lightYellow: \"#e2aa85\",\r\n    black: \"#000\",\r\n  },\r\n};\r\n\r\nReactDOM.render(\r\n  <ThemeProvider theme={theme}>\r\n    <App />\r\n  </ThemeProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}